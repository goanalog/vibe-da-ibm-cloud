# ----------------------------------------------------------
# IBM Cloud Deployable Architecture Manifest
# ----------------------------------------------------------

schema_version: "1.0"
name: "vibe-da-ibm-cloud"
version: "0.1.0"
description: >
  The Vibe Deployable Architecture — a creative IBM Cloud starter that instantly
  provisions a free Cloud Object Storage (Lite) instance, hosts a live static
  "Vibe IDE" sample app, and optionally deploys IBM Cloud Functions for live
  redeploys and updates.
tags:
  - Vibe
  - Creative Coding
  - IBM Cloud
  - Object Storage
  - Functions
  - Deployable Architecture

# Terraform configuration
type: terraform
terraform_version: "1.5"

# Path to entry point Terraform
main: main.tf

# Inputs visible in IBM Cloud Catalog and Projects UI
inputs:
  - name: region
    type: string
    description: "IBM Cloud region for deployment (e.g. us-south, eu-de)"
    default: "us-south"

  - name: resource_group
    type: string
    description: "IBM Cloud resource group name"
    default: "default"

  - name: bucket_prefix
    type: string
    description: "Prefix for COS bucket name"
    default: "vibe-bucket"

  - name: enable_functions
    type: bool
    description: "Enable IBM Cloud Functions for auto-push and reapply features"
    default: true
    optional: true

# Outputs displayed after deployment
outputs:
  - name: primaryoutputlink
    type: string
    description: "Public link to your deployed Vibe site"
    visibility: visible
    ui_hints:
      important: true
      type: link

  - name: push_cos_url
    type: string
    description: "IBM Cloud Function endpoint for pushing updates to COS"

  - name: push_project_url
    type: string
    description: "IBM Cloud Function endpoint for integrating with IBM Cloud Projects"

# Metadata for catalog UI
catalog:
  display_name: "Vibe Deployable Architecture"
  icon: "https://raw.githubusercontent.com/goanalog/vibe-da-ibm-cloud/main/icon.png"
  architecture_diagram: "https://raw.githubusercontent.com/goanalog/vibe-da-ibm-cloud/main/diagram.svg"
  long_description: >
    **Deploy a whole mood — instantly and repeatedly.**  
    The Vibe Deployable Architecture provisions a free IBM Cloud Object Storage (Lite)
    bucket, uploads a live "Vibe IDE" web app, and optionally deploys IBM Cloud
    Functions that let users redeploy and update directly from their browser.
  website: "https://www.ibm.com/architectures/deployable-architectures"
  documentation_url: "https://github.com/goanalog/vibe-da-ibm-cloud"
  support_url: "https://cloud.ibm.com/unifiedsupport"
  license: Apache-2.0
