name: vibe-da-ibm-cloud
version: 1.2.1-law
type: terraform
description: >
  Deploy a live "Vibe Landing Zone" on IBM Cloud â€” a creative static website hosted
  on IBM Cloud Object Storage (Lite) with optional Cloud Functions for pushing
  updates and reapplying projects. Includes automatic IAM bindings so functions can
  write directly to your COS bucket.

tags:
  - vibe-coding
  - static-website
  - cloud-functions
  - object-storage
  - deployable-architecture
  - ibm-cloud
  - creative-coding

icon: https://raw.githubusercontent.com/goanalog/vibe-da-ibm-cloud/main/icon.png
diagram: https://raw.githubusercontent.com/goanalog/vibe-da-ibm-cloud/main/diagram.svg

# main entrypoint
template:
  terraform:
    source: .
    provider: ibm
    variables: 
      - name: region
        type: string
        default: us-south
        description: "IBM Cloud region for hosting the website (e.g. us-south, eu-de)."
      - name: resource_group
        type: string
        default: Default
        description: "IBM Cloud resource group where resources will be created."
      - name: enable_functions
        type: bool
        default: true
        description: "Enable Cloud Functions for push and reapply actions."
      - name: bucket_prefix
        type: string
        default: vibe-bucket
        description: "Prefix for generated bucket names (a random suffix is appended)."

outputs:
  - name: vibe_bucket
    description: "Bucket name hosting the site."
  - name: vibe_bucket_website_endpoint
    description: "Public website endpoint for the hosted vibe app."
  - name: push_cos_url
    description: "Invoke URL for push_to_cos Cloud Function."
  - name: push_project_url
    description: "Invoke URL for push_to_project Cloud Function."
  - name: s3_public_endpoint
    description: "S3 public endpoint for the region."

primary_output: vibe_bucket_website_endpoint
readme: README.md
